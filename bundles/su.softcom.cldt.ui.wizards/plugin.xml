<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="su.softcom.cldt.ui.preferences.CPreferences"
            class="su.softcom.cldt.internal.ui.wizards.preferences.CPreferences"
            id="su.softcom.cldt.ui.wizards.preferences.cpp"
            name="%preferences.cpp.name">
      </page>
      <page
            class="su.softcom.cldt.internal.ui.wizards.preferences.ToolchainPreferences"
            id="su.softcom.cldt.ui.wizards.preferences.toolchain"
            name="%preferences.toolchain.name">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            category="org.eclipse.ui.Basic"
            class="su.softcom.cldt.internal.ui.wizards.NewHeaderFileWizard"
            icon="icons/view16/create_source_file.png"
            id="su.softcom.cldt.ui.NewHeaderFileWizard"
            name="%su.softcom.cldt.ui.new.header.file.wizard.label">
         <description>
            %su.softcom.cldt.ui.new.header.file.wizard.description
         </description>
      </wizard>
      <wizard
            category="org.eclipse.ui.Basic"
            class="su.softcom.cldt.internal.ui.wizards.NewSourceFileWizard"
            icon="icons/view16/create_source_file.png"
            id="su.softcom.cldt.ui.NewSourceFileWizard"
            name="%su.softcom.cldt.ui.new.source.file.wizard.label"
            project="false">
         <description>
            %su.softcom.cldt.ui.new.source.file.wizard.description
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:common.new.menu?after=additions">
         <command
               commandId="su.softcom.cldt.ui.commands.create.header.file"
               icon="icons/view16/create_source_file.png"
               label="%su.softcom.cldt.ui.new.header.file.wizard.label"
               style="push">
            <visibleWhen>
               <or>
        		   <with
                        variable="activeWorkbenchWindow.activePerspective">
                     <equals
                           value="su.softcom.cldt.ui.perspective.optimization">
                     </equals>
                  </with>
                  <with
                        variable="activeWorkbenchWindow.activePerspective">
                     <equals
                           value="su.softcom.cldt.ui.perspective.translation">
                     </equals>
                  </with>
               </or>
            </visibleWhen>
         </command>
         <command
               commandId="su.softcom.cldt.ui.commands.create.source.file"
               icon="icons/view16/create_source_file.png"
               label="%su.softcom.cldt.ui.new.source.file.wizard.label"
               style="push">
            <visibleWhen>
               <or>
        		   <with
                        variable="activeWorkbenchWindow.activePerspective">
                     <equals
                           value="su.softcom.cldt.ui.perspective.optimization">
                     </equals>
                  </with>
                  <with
                        variable="activeWorkbenchWindow.activePerspective">
                     <equals
                           value="su.softcom.cldt.ui.perspective.translation">
                     </equals>
                  </with>
               </or>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="su.softcom.cldt.ui.commands.create.header.file"
            name="%su.softcom.cldt.ui.command.new.header.file">
      </command>
      <command
            id="su.softcom.cldt.ui.commands.create.source.file"
            name="%su.softcom.cldt.ui.command.new.source.file">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="su.softcom.cldt.internal.ui.wizards.handlers.NewHeaderFileHandler"
            commandId="su.softcom.cldt.ui.commands.create.header.file">
      </handler>
      <handler
            class="su.softcom.cldt.internal.ui.wizards.handlers.NewSourceFileHandler"
            commandId="su.softcom.cldt.ui.commands.create.source.file">
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="su.softcom.cldt.ui.perspective.optimization">
            <newWizardShortcut id="su.softcom.cldt.ui.NewHeaderFileWizard"/>
            <newWizardShortcut id="su.softcom.cldt.ui.NewSourceFileWizard">
            </newWizardShortcut>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="su.softcom.cldt.ui.perspective.translation">
            <newWizardShortcut id="su.softcom.cldt.ui.NewHeaderFileWizard"/>
            <newWizardShortcut id="su.softcom.cldt.ui.NewSourceFileWizard">
            </newWizardShortcut>
      </perspectiveExtension>
   </extension>
</plugin>
